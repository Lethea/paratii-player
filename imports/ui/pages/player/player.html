<template name="player">
  <div id="player-container" class="player-container {{ descriptionClass }}">
    <video id="video-player" class="player-video" {{autoplay}} {{loop}} {{playsinline}}>
    </video>
    {{#unless isLocked }}
    {{ #if status }}<span id="status"><tt>STATUS: {{ status }}</tt></span>{{/if}}
    <div class="player-controls {{playPause}} {{hideControls}}">
      <div class="player-controls-wrapper">
        <div class="player-controls-buttons">
          {{#if hasPlaylistId}}
            <button id="previous-video-button" class="player-button player-button-prev" title="previous video">
              <svg class="player-button-svg" viewBox="576 409 11.049 15.084">
                <path d="M576 409.084v15l11.049-7.5z"/>
                <path d="M584 409h3v15h-3z"/>
              </svg>
            </button>
          {{/if}}
          <button id="play-pause-button" class="player-button player-button-play-pause" title="{{playPause}}" data-icon="{{playPauseIcon}}">
            <svg class="player-button-svg player-button-svg-pause" viewBox="0 0 13 14">
                <path d="M0 0h5v14H0zM8 0h5v14H8z"/>
            </svg>
            <svg class="player-button-svg player-button-svg-play" viewBox="576 409.084 11.049 15">
              <path data-name="Path 185" class="cls-1" d="M576 409.084v15l11.049-7.5z"/>
            </svg>
          </button>
          {{#if hasPlaylistId}}
            <button id="next-video-button" class="player-button player-button-next" title="next video">
              <svg class="player-button-svg" viewBox="576 409 11.049 15.084">
                <path d="M576 409.084v15l11.049-7.5z"/>
                <path d="M584 409h3v15h-3z"/>
              </svg>
            </button>
          {{/if}}
          <button id="volume-button" class="player-button player-button-volume" title="volume">
            <img class="player-button-svg" src={{ volumeIcon }} />
          </button>
          <div id="vol-control" class="player-volume-control {{ volumeClass }}">
            <div id="volume-value" class="player-volume-control-bar" style="width: {{ volumeValue }}%"></div>
            <div id="vol-scrubber" class="player-scrubber" style="left: {{volScrubberTranslate}}%"></div>
          </div>
        </div>

        <div id="video-progress" class="player-progress player-controls-progress">
          <div id="loaded-bar" class="player-progress-loaded" style="width: {{loadedProgress}}%"></div>
          <div id="played-bar" class="player-progress-played" style="width: {{playedProgress}}%"></div>
          <div id="scrubber" class="player-scrubber" style="left: {{scrubberTranslate}}%"></div>
        </div>

        <div class="player-controls-time">
          <span id="total-time" class="player-time-total">{{formatTime totalTime}}</span>
        </div>
      </div>
    </div>

    <button id="fullscreen-button" class="player-button player-button-fullscreen {{hideControls}}" title="{{fullscreen}}">
      <svg class="player-button-svg" viewBox="0 0 14 14">
        <path d="M2 9H0v5h5v-2H2V9zM0 5h2V2h3V0H0v5zm12 7H9v2h5V9h-2v3zM9 0v2h3v3h2V0H9z"/>
      </svg>
    </button>
    {{/unless }}

    {{#with video}}
    <div class="player-overlay player-infos {{playPause}}">
      <div class="player-uploader player-infos-uploader">{{ uploader.name }} <img class="player-infos-uploader-image" src="{{ uploader.avatar }}"/></div>

      <div class="player-info player-infos-wrapper">
        <div class="player-title player-infos-title">{{ title }}</div>
        <div class="player-infos-content">
          <div class="player-description player-infos-description">
            <p class="player-description-text">{{ description }}</p>
            <button class="button-text button-text--white button-text--nocase player-infos-button-description" type="button">Hide description</button>
          </div>
          <div class="player-infos-holder">
            <div class="player-related player-infos-related">
              {{#each tag in tags }}
                <span class="player-infos-related-tag">{{ tag }}</span>
              {{/each}}
            </div>
            <div class="player-uploader-name player-infos-uploader-name">By <strong>{{ uploader.name }}</strong></div>
            <div class="player-statistics player-infos-statistics">
              <span class="statistic-text player-infos-statistics-item"><img class="player-infos-statistics-image" src="/img/view-icon.svg">{{formatNumber stats.views}}</span>
              <span class="statistic-text player-infos-statistics-item" id="button-like"><img class="player-infos-statistics-image" src="/img/like-icon.svg"/>{{formatNumber stats.likes}}</span>
              <span class="statistic-text player-infos-statistics-item" id="button-dislike"><img class="player-infos-statistics-image" src="/img/deslike-icon.svg"/>{{formatNumber stats.dislikes}}</span>
              <span class="sharing-actions player-infos-statistics-item player-infos-statistics-share" id="embed"><img class="player-infos-statistics-image" src="/img/share.svg"/></span>
            </div>
            <button class="button-text button-text--white button-text--nocase player-infos-button-description" type="button">Show description</button>
          </div>
          {{#if isShowDescription}}
          {{else}}
          {{/if}}
        </div>
        {{#if isLocked }}
          <button id="unlock-video" class="player-price player-infos-price" data-title="{{ title }}" data-address="{{ uploader.address }}" data-price="{{ formatNumber price }}">UNLOCK THIS VIDEO WITH {{formatNumber price}} PTI</button>
        {{/if}}
      </div>
    </div>
    {{/with}}
  </div>
</template>
